{"version":3,"sources":["../../src/server/server.js"],"names":["Server","app","use","static","get","req","res","sendFile","__dirname","server","listen","host","address","port","console","log","manService","response","recognition","end","JSON","stringify"],"mappings":";;;;;;;qjBAAA;;;;;AAGA;;;;AACA;;;;;;IACaA,M,WAAAA,M;AACT,sBAAc;AAAA;AAAE;;;;+BACT;AACH,gBAAIC,MAAM,wBAAV;AACAA,gBAAIC,GAAJ,CAAQ,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAF,gBAAIG,GAAJ,CAAQ,YAAR,EAAsB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACtCA,oBAAIC,QAAJ,CAAaC,YAAY,GAAZ,GAAkB,WAA/B;AACH,aAFD;AAGA,gBAAIC,SAASR,IAAIS,MAAJ,CAAW,IAAX,EAAiB,YAAY;;AAEtC,oBAAIC,OAAOF,OAAOG,OAAP,GAAiBA,OAA5B;AACA,oBAAIC,OAAOJ,OAAOG,OAAP,GAAiBC,IAA5B;;AAEAC,wBAAQC,GAAR,CAAY,yBAAZ,EAAuCJ,IAAvC,EAA6CE,IAA7C;AAEH,aAPY,CAAb;AAQA,gBAAIG,aAAa,4BAAjB;AACAf,gBAAIG,GAAJ,CAAQ,KAAR,EAAe,UAAUC,GAAV,EAAeC,GAAf,EAAoB;;AAE/B;AACA,oBAAIW,WAAWD,WAAWE,WAAX,EAAf;AACAJ,wBAAQC,GAAR,CAAYE,QAAZ;AACAX,oBAAIa,GAAJ,CAAQC,KAAKC,SAAL,CAAeJ,QAAf,CAAR;AACH,aAND;AAOH","file":"server.js","sourcesContent":["/**\r\n * 服务类\r\n */\r\nimport express from 'express';\r\nimport {ManService} from '../service/ManService.js'\r\nexport class Server {\r\n    constructor() {}\r\n    init() {\r\n        let app = express();\r\n        app.use(express.static('public'));\r\n        app.get('/index.htm', function (req, res) {\r\n            res.sendFile(__dirname + \"/\" + \"index.htm\");\r\n        });\r\n        let server = app.listen(8081, function () {\r\n\r\n            var host = server.address().address\r\n            var port = server.address().port\r\n\r\n            console.log(\"应用实例，访问地址为 http://%s:%s\", host, port)\r\n\r\n        })\r\n        let manService = new ManService();\r\n        app.get('/rt', function (req, res) {\r\n\r\n            // 输出 JSON 格式\r\n            let response = manService.recognition();\r\n            console.log(response);\r\n            res.end(JSON.stringify(response));\r\n        })\r\n    }\r\n}"]}